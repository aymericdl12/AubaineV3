{# src/OC/PlatformBundle/Resources/views/Advert/index.html.twig #}

{% extends "AubaineUserBundle::layout.html.twig" %}

{% block title %}
  Accueil - {{ parent() }}
{% endblock %}

{% block page %}
  <main class="page-user_index page-large">

    <a href="{{ path('aubaine_user_add') }}" class="btn btn-default">
      <i class="glyphicon glyphicon-plus"></i>
      Ajouter un utilisateur
    </a>

    <h2>Liste des utilisateurs</h2>


    {% for message in app.session.flashbag.get('info') %}
      <div class="alert alert-info">{{ message }}</div>
    {% endfor %}

    <table class="table table-hover">
      <thead>
          <tr>
            <th></th>
            <th>Nom</th>
            <th>Email</th>
            <th>Categorie</th>
            <th>Action</th>
          </tr>
      </thead>
      <tbody>
          {% for user in listUsers %}
              <tr>
                  <td>
                      <a href="{{ path('aubaine_user_view', {'id': user.id}) }}" >      
                          <img src="{{ asset('images/avatars/' ~ user.imageName) }}" width="60">
                      </a>
                  </td>
                  <td>
                      <a href="{{ path('aubaine_user_view', {'id': user.id}) }}" >      
                          <h4 class="list-group-item-heading">{{ user.username }}</h4>
                      </a>
                  </td>
                  <td>
                      {{ user.email }}
                  </td>
                  <td>
                      {{ user.category }}
                  </td>
                  <td>
                      <a href="{{ path('aubaine_user_edit', {'id': user.id}) }}" class="btn btn-default">
                        <i class="glyphicon glyphicon-edit"></i>
                        Modifier les information
                      </a> <br>
                      <a href="{{ path('aubaine_user_edit_password', {'id': user.id}) }}" class="btn btn-default">
                        <i class="glyphicon glyphicon-edit"></i>
                        modifier le mot de passe
                      </a> <br>
                      <a href="{{ path('aubaine_user_edit_avatar', {'id': user.id}) }}" class="btn btn-default">
                        <i class="glyphicon glyphicon-edit"></i>
                        modifier l'image
                      </a> <br>
                      <a href="{{ path('aubaine_user_delete', {'id': user.id}) }}" class="btn btn-danger">
                        <i class="glyphicon glyphicon-trash"></i>
                        Supprimer
                      </a>
                  </td>
              </tr>
          {% endfor %}
      </tbody>
    </table>
  </main>
{% endblock %}
