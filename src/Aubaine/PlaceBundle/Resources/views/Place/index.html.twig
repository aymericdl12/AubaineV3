{# src/OC/PlatformBundle/Resources/views/Advert/index.html.twig #}

{% extends "AubainePlaceBundle::layout.html.twig" %}

{% block title %}
  Accueil - {{ parent() }}
{% endblock %}

{% block aubaineplace_body %}

  <a href="{{ path('aubaine_place_add') }}" class="btn btn-default">
    <i class="glyphicon glyphicon-plus"></i>
    Ajouter un lieu
  </a>

  <h2>Liste des lieux</h2>


  {% for message in app.session.flashbag.get('info') %}
    <div class="alert alert-info">{{ message }}</div>
  {% endfor %}

  <table class="table table-hover">
    <thead>
        <tr>
          <th>Date</th>
          <th>Titre</th>
          <th>Catégorie</th>
          <th>État</th>
        </tr>
    </thead>
    <tbody>
        {% for place in listPlaces %}
            <tr>
                <td>
                    {{ place.date | date("d/m/y") }}
                </td>
                <td>
                    <a href="{{ path('aubaine_place_view', {'id': place.id}) }}" >      
                        <h4 class="list-group-item-heading">{{ place.title }}</h4>
                    </a>
                </td>
                <td>
                    {{ place.category | trans }} 
                </td>
                <td>
                    {% if place.published %}  Publié {% else %} Brouillon {% endif %}
                </td>
            </tr>
        {% endfor %}
    </tbody>
  </table>

  <ul class="pagination">
      {% for p in range(1, nbPages) %}
        <li{% if p == page %} class="active"{% endif %}>
          <a href="{{ path('aubaine_place_home', {'page': p}) }}">{{ p }}</a>
        </li>
      {% endfor %}
  </ul>


{% endblock %}
